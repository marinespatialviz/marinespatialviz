---
title: "Shiny"
output: 
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    theme: flatly
---

# Basic Shiny app with a map

Here is the basic set up for a Shiny app.

```{r}
library(shiny)

ui <- fluidPage()

server <- function(input, output) {}

shinyApp(ui = ui, server = server)
```

$~$

Let's create a basic map using Shiny. 

```{r}
library(shiny)
library(leaflet)

ui <- fluidPage(leafletOutput("map"))

server <- function(input, output, session) {
  
  output$map <- renderLeaflet({
    library(leaflet)
    leaflet() %>%
      addTiles()})}

shinyApp(ui, server)
```

```{r echo = FALSE}
knitr::include_app("https://marinespatialviz.shinyapps.io/Map1/", height = "600px")
```
  
$~$

# View and basemap

Let's change the basemap and the view.

```{r}
library(shiny)
library(leaflet)

ui <- fluidPage(leafletOutput("mymap"))

server <- function(input, output, session) {
  
  output$mymap <- renderLeaflet({
    library(leaflet)
    leaflet() %>%
      setView(lng = -15, lat = 20, zoom = 1) %>%
      addTiles() %>%
      addProviderTiles(providers$Esri.WorldImagery)})}

shinyApp(ui, server)
```

```{r echo = FALSE}
knitr::include_app("https://marinespatialviz.shinyapps.io/Map2/")
```

# Marker

Using the example from the R Studio [section](https://marinespatialviz.github.io/marinespatialviz/rstudio.html#marker), let's add a marker. 

```{r}
library(shiny)
library(leaflet)

ui <- fluidPage(leafletOutput("mymap"))

server <- function(input, output, session) {
  
  output$mymap <- renderLeaflet({
    library(leaflet)
    leaflet() %>%
      addTiles() %>%
      setView(lng = 142, lat = 11, zoom = 3) %>%
      addMarkers(lng = 142.1999992, lat = 11.3499986) %>%
      addProviderTiles(providers$Esri.OceanBasemap)})}

shinyApp(ui, server)
```

```{r echo = FALSE}
knitr::include_app("https://marinespatialviz.shinyapps.io/marker/")
```