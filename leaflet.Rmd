---
title: "Leaflet.js"
output: 
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    theme: flatly
---

$~$

# Basics of Leaflet.js


[Leaflet.js](http://leafletjs.com/) is an open-source JavaScript library used for the creation of interactive, simple and lightweight web maps. Leaflet forms the basis of [Mapbox.js](https://www.mapbox.com/mapbox.js/api/v3.1.1/). 

You can create a web map either using a text editor on your PC, or an online code editor. 

$~$

## Text editor

One example of a text editor is [Atom](https://atom.io/) which is available for free to download.

Using a text editor, the first step of creating a web map starts with the **HTML page**.


    <html>

      <head>

        <style>
        
        </style>

      </head>

      <body>

        <script>

        </script>

      </body>

    </html>


This is the basic set up of a HTML page.

The next step is integrating the **Leaflet CSS** and **Leaflet.js** scripts. You can access the hosted version [here](http://leafletjs.com/download.html).

Both files will sit in the head section of the HTML code. Make sure to keep the order.


    <html>

      <head>

        <link rel = "stylesheet" href = "https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />

        <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>

        <style>

        </style>

      </head>

        <body>

          <script>

          </script>

        </body>

      </html>
    

Then, create a container for the map defining the dimensions. This will sit in the body section.


    <html>

      <head>

        <link rel = "stylesheet" href = "https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />

        <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>

        <style>
        
            #map {
            width: 100%;
            height: 100%;}

        </style>

      </head>

        <body>

          <div id = "map" ></div>

          <script>

          </script>

        </body>

    </html>

$~$

## Online code editor

Let's look into how you can use leaflet.js on [jsFiddle](https://jsfiddle.net/), an online code editor used to test your JavaScript, CSS, HTML.

After registering on jsFiddle, start with a blank workspace.

![](http://marinespatialviz.github.io/marinespatialviz/images/jsfiddle.png)
$~$

The first step here is to add leaflet.js and leaflet.css as an external resource.

Click on External Resources and add these two web addresses:

https://unpkg.com/leaflet@1.3.1/dist/leaflet.css

https://unpkg.com/leaflet@1.3.1/dist/leaflet.js

![](http://marinespatialviz.github.io/marinespatialviz/images/jsfiddle1.png)
$~$

Before going further, let's discuss the terms: 

HTML (HypterText Markup Language): provides the content of the web page that can be structured.

CSS (Cascading Style Sheets): gives control over the style and visual presentation of the web page.

JS (JavaScript): this will give the web page interactivity.

$~$

Now using the previous example, let's add the HTML, CSS and JavaScript elements.

HTML (will not need the whole HTML code):

    <div id="map"></div>

CSS (the width and height is adjusted to the size of the preview window):

    #map {width: 100%; height: 100%;}
    
JavaScript:

    var map = L.map('map',{center: [20, -15],zoom: 3});

    L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);
    
    
<script async src="https://jsfiddle.net/WandaBodnar/b0hraygg/2/embed/js,html,css,result/dark/"></script>

$~$


**In the examples below both text editor and jsFiddle codes are displayed.**


$~$

# View and basemap

Now, let's construct the body adding the map object. The view can be set using `var map = L.map('map', {center: [20, -15], zoom: 3});` and just like in in R Studio, different [basemaps](https://leaflet-extras.github.io/leaflet-providers/preview/) can be used. 


    <html>

      <head>

        <link rel = "stylesheet" href = "https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />

        <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>

        <style>
        
            #map {width: 100%; height: 100%;}

        </style>

      </head>

        <body>

          <div id = "map"></div>

          <script>

          var map = L.map('map',{
          center: [20, -15],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          </script>

        </body>

    </html>
    
<script async src="https://jsfiddle.net/WandaBodnar/wwc6ppuj/embed/js,html,css,result/dark/"></script>

$~$

## Esri basemap

Extension used:

* https://unpkg.com/esri-leaflet@2.1.3/dist/esri-leaflet.js


          <script>
          
            var map = L.map("map").setView([11, 142], 3);
          
            L.esri.basemapLayer("DarkGray").addTo(map);
          
          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/sgn3hjo5/1/embed/js,html,css,result/dark/"></script>

$~$

# Marker

          <script>

          var map = L.map('map',{
          center: [11, 142],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var marker = L.marker([11.3499986, 142.1999992])
          marker.addTo(map);

          </script>

<script async src="https://jsfiddle.net/WandaBodnar/tmeydta0/1/embed/js,html,css,result/dark/"></script>

$~$

## Cluster marker (UK offshore windfarms)

Extensions used: 

* https://rawgit.com/Leaflet/Leaflet.markercluster/leaflet-0.7/dist/MarkerCluster.css
* https://rawgit.com/Leaflet/Leaflet.markercluster/leaflet-0.7/dist/MarkerCluster.Default.css
* https://rawgit.com/Leaflet/Leaflet.markercluster/leaflet-0.7/dist/leaflet.markercluster.js


          <script>

          var map = L.map('map',{
          center: [51, 0.5],
          zoom: 4
          });
    
          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);
    
          var markers = new L.MarkerClusterGroup();
    
          markers.addLayer(L.marker([53.9833333, -3.283333333]));
          markers.addLayer(L.marker([58.10555556, -3.093055556]));
          markers.addLayer(L.marker([55.13583333, -1.490277778]));
          markers.addLayer(L.marker([53.48333333, -3.183333333]));
          markers.addLayer(L.marker([51.93333333,	1.883333333]));
          markers.addLayer(L.marker([51.71666667,	1.213888889]));
          markers.addLayer(L.marker([51.71666667, 1.213888889]));
          markers.addLayer(L.marker([53.45, -3.583333333]));
          markers.addLayer(L.marker([51.46, 1.09]));
          markers.addLayer(L.marker([53.18333333, 0.483333333]));
          markers.addLayer(L.marker([51.64388889, 1.553611111]));
          markers.addLayer(L.marker([53.1275, 0.436111111]));
          markers.addLayer(L.marker([56.16277778, -3.008888889]));
          markers.addLayer(L.marker([53.11666667, 1.133333333]));
          markers.addLayer(L.marker([54.64722222, -1.094444444]));
          markers.addLayer(L.marker([51.43333333, 1.633333333]));
          markers.addLayer(L.marker([54.05,	-3.516666667]));
          markers.addLayer(L.marker([53.805,	0.148888889]));
          markers.addLayer(L.marker([53.98333333,	-3.466666667]));
    
          map.addLayer(markers);
    
        </script>


<script async src="https://jsfiddle.net/WandaBodnar/z383nay6/embed/js,html,css,result/dark/"></script>

$~$

## Pop-up

          <script>
          
          var map = L.map('map',{
          center: [11, 142],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);
          
          var marker = L.marker([11.3499986, 142.1999992])

          marker.bindPopup('Mariana Trench').openPopup();
          
          marker.addTo(map);
          
          </script>
          
Here is another option. 

          <script>
        
          var map = L.map('map',{
          center: [11, 142],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);
          
          var marker = L.marker([11.3499986, 142.1999992]).bindPopup('Mariana Trench')

          marker.addTo(map);

          </script>

<script async src="https://jsfiddle.net/WandaBodnar/a4aono63/2/embed/js,html,css,result/dark/"></script>

$~$

## Tooltip

Extension used: 

* https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet-src.js

          <script>
        
          var map = L.map('map',{
          center: [11, 142],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);
          
          var marker = L.marker([11.3499986, 142.1999992]).bindTooltip("Mariana Trench").addTo(map);

          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/4gnvkd97/1/embed/js,html,css,result/dark/"></script>
          
$~$

## Circle marker

          <script>

          var map = L.map('map',{
          center: [11, 142],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var circle = L.circle([11.3499986, 142.1999992], 100000, {
          color: '#a58fa4',
          fillColor: '#0d11ee',
          fillOpacity: 0.5}).addTo(map);

          map.addLayer(circle);

<script async src="https://jsfiddle.net/WandaBodnar/x52Lhwha/1/embed/js,html,css,result/dark/"></script>

$~$

## Costum marker

          <script>

          var map = L.map('map',{
          center: [11, 142],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var customIcon = L.icon({
          iconUrl: 'https://image.flaticon.com/icons/png/512/190/190006.png',
          iconSize: [100, 95]});

          var marker = L.marker([11.3499986, 142.1999992], {icon: customIcon})

          marker.addTo(map);

          </script>
    
<script async src="https://jsfiddle.net/WandaBodnar/00ucj6m1/1/embed/js,html,css,result/dark/"></script>

$~$

# Dragable marker

          <script>

          var map = L.map('map', {
            center: [11, 142],
            zoom: 3
          });
          
          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);
          
          var marker = L.marker([11.3499986, 142.1999992], {
          draggable: true})
          marker.addTo(map);

          </script>

<script async src="https://jsfiddle.net/WandaBodnar/hmazun1g/1/embed/js,html,css,result/dark/"></script>

$~$

# Polyline

          <script>

          var map = L.map('map',{
          center: [0, 0],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var line = L.polyline([[0, -180], [0, 180]],{color: 'red'}).addTo(map);

          </script>

<script async src="https://jsfiddle.net/WandaBodnar/fhj507vz/1/embed/js,html,css,result/dark/"></script>

$~$

# Polygon

          <script>

          var map = L.map('map',{
          center: [0, 0],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var polygon = L.polygon([[23.5, 180], [-23.5, 180], [-23.5, -180], [23.5, -180]],
          {color: 'orange', fillColor: 'orange', fillOpacity: .5}).addTo(map);

          map.addLayer(polygon);

          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/9ad1aeLx/2/embed/js,html,css,result/dark/"></script>

$~$

# Layer control

          <script>

          var map = L.map('map',{
          center: [0, 0],
          zoom: 2
          });

          var Hydda_Full = L.tileLayer('https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png', {
          maxZoom: 18,
          attribution: 'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <ahref="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
          subdomains: 'abcd',
          maxZoom: 19
          }).addTo(map);
          
          L.control.layers({
          'Hydda': Hydda_Full,
          'Carto': CartoDB_DarkMatter
          }).addTo(map);

          </script>

<script async src="https://jsfiddle.net/WandaBodnar/g8c34po6/1/embed/js,html,css,result/dark/"></script>

$~$

## Layer control with icon

          <script>
 
          var dolphinIcon = L.icon({
          iconUrl: 'https://image.flaticon.com/icons/svg/47/47327.svg',
          iconSize: [32, 37]
          });

          var sealIcon = L.icon({
          iconUrl: 'https://d30y9cdsu7xlg0.cloudfront.net/png/56283-200.png',
          iconSize: [32, 37]
          });

          var dolphinLayer = L.marker([51.4709, -0.221], {icon: dolphinIcon});

          var sealLayer = L.marker([51.4701, -0.1801], {icon: sealIcon});

          var map = L.map('map', {
          center: [51.47, -0.20],
          zoom: 13,
          layers: [dolphinLayer, sealLayer]
          });

          var overlayMaps = {
          "<img src='https://image.flaticon.com/icons/svg/47/47327.svg' height=21>Dolphin": dolphinLayer,
          "<img src='https://d30y9cdsu7xlg0.cloudfront.net/png/56283-200.png' height=21>Seal": sealLayer
          };

          L.control.layers(null, overlayMaps, {
          collapsed: false
          }).addTo(map);

          var CartoDB_Positron = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
          subdomains: 'abcd',
          maxZoom: 19
          }).addTo(map);
          
          </script>

<script async src="https://jsfiddle.net/WandaBodnar/sm2g32bt/1/embed/js,html,css,result/dark/"></script>

$~$

# GeoJson

$~$

## Point (Marker)

          <script>
          
                var map = L.map('map',{
                  center: [11, 142],
                  zoom: 3
                });
          
                var Mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
                maxZoom: 18,
                id: 'mapbox.streets',
                accessToken: 'pk.eyJ1Ijoid2FuZGFib2RuYXIiLCJhIjoiY2phdHM1dm0xNXF0ajJxanU3dmdmaHRqcCJ9.mFPox1jAE9LkZN6v5OZ7Lw'
                }).addTo(map);
          
                var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
                subdomains: 'abcd',
                maxZoom: 19
                }).addTo(map);
          
                var geojsonFeature = {
                      "type": "Feature",
                      "properties": {
                          "name": "Mariana Trench",
                          "popupContent": "Mariana Trench!"
                      },
                      "geometry": {
                          "type": "Point",
                          "coordinates": [142.1999992, 11.3499986]
                      }
                  };
          
                L.geoJSON(geojsonFeature).addTo(map);
          
                L.control.layers({
            			'Mapbox': Mapbox,
            			'Carto': CartoDB_DarkMatter
            		}).addTo(map);
          
          </script>

<script async src="https://jsfiddle.net/WandaBodnar/o4nyb1qa/5/embed/js,html,css,result/dark/"></script>

$~$

## Point (Circle) with tooltip


          <script>
      
            var map = L.map('map',{
              center: [11, 142],
              zoom: 3
            });
      
            var Mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1Ijoid2FuZGFib2RuYXIiLCJhIjoiY2phdHM1dm0xNXF0ajJxanU3dmdmaHRqcCJ9.mFPox1jAE9LkZN6v5OZ7Lw'
            }).addTo(map);
      
            var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
            subdomains: 'abcd',
            maxZoom: 19
            }).addTo(map);
      
            var geojsonMarkerOptions = {
              radius: 8,
              weight: 1,
              opacity: 1,
              color: '#a58fa4',
              fillColor: '#0d11ee',
              fillOpacity: 0.5
            };
      
            var geojsonFeature = {
                  "type": "Feature",
                  "properties": {
                      "name": "Mariana Trench",
                      "popupContent": "Mariana Trench!"
                  },
                  "geometry": {
                      "type": "Point",
                      "coordinates": [142.1999992, 11.3499986]
                  }
              };
      
              L.geoJSON(geojsonFeature, {
                pointToLayer: function(feature, latlng){
                  var marker = L.circleMarker(latlng, geojsonMarkerOptions);
                  marker.bindTooltip(feature.properties.popupContent);
                  return marker;}
              }).addTo(map);
      
              L.control.layers({
          			'Mapbox': Mapbox,
          			'Carto': CartoDB_DarkMatter
          		}).addTo(map);
      
            </script>

<script async src="https://jsfiddle.net/WandaBodnar/f8mLr828/4/embed/js,html,css,result/dark/"></script>

$~$

## Line

            <script>
            
                  var map = L.map('map',{
                    center: [0, 0],
                    zoom: 3
                  });
            
                  var Mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                  attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
                  maxZoom: 18,
                  id: 'mapbox.streets',
                  accessToken: 'pk.eyJ1Ijoid2FuZGFib2RuYXIiLCJhIjoiY2phdHM1dm0xNXF0ajJxanU3dmdmaHRqcCJ9.mFPox1jAE9LkZN6v5OZ7Lw'
                  }).addTo(map);
            
                  var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
                  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
                  subdomains: 'abcd',
                  maxZoom: 19
                  }).addTo(map);
            
                  var line = [{
                      "type": "LineString",
                      "coordinates": [[-180, 0], [180, 0]]
                  }];
            
                  var style = {
                      "color": "red",
                      "weight": 2,
                      "opacity": 0.5
                  };
            
                  L.geoJSON(line, {
                      style: style
                  }).addTo(map);
            
                    L.control.layers({
                			'Mapbox': Mapbox,
                			'Carto': CartoDB_DarkMatter
                		}).addTo(map);
            
            </script>
            
<script async src="https://jsfiddle.net/WandaBodnar/vm6pkkf4/2/embed/js,html,css,result/dark/"></script>

$~$

## Polygon

            <script>
            
            var map = L.map('map',{
              center: [0, 0],
              zoom: 3
            });
      
            var Mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1Ijoid2FuZGFib2RuYXIiLCJhIjoiY2phdHM1dm0xNXF0ajJxanU3dmdmaHRqcCJ9.mFPox1jAE9LkZN6v5OZ7Lw'
            }).addTo(map);
      
            var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
            subdomains: 'abcd',
            maxZoom: 19
            }).addTo(map);
      
            var polygon = [{
            "type": "Polygon",
            "coordinates": [[
              [180, 23.5], [180, -23.5],
              [-180, -23.5], [-180, 23.5]
              ]]
            }];
      
            var style = {
                "color": "red",
                "weight": 2,
                "opacity": 0.5
            };
      
            L.geoJSON(polygon, {
                style: style
            }).addTo(map);
      
            L.control.layers({
          			'Mapbox': Mapbox,
          			'Carto': CartoDB_DarkMatter
          	}).addTo(map);
            
            </script>

<script async src="https://jsfiddle.net/WandaBodnar/8v53ukv9/8/embed/js,html,css,result/dark/"></script>

$~$

## External GeoJson

### Ajax

Extension used:

* https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.js


          <script>
          
              var map = L.map('map', {
                center: [55, 15],
                zoom: 3
              });
          
              var Mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
                maxZoom: 18,
                id: 'mapbox.streets',
                accessToken: 'pk.eyJ1Ijoid2FuZGFib2RuYXIiLCJhIjoiY2phdHM1dm0xNXF0ajJxanU3dmdmaHRqcCJ9.mFPox1jAE9LkZN6v5OZ7Lw'
              }).addTo(map);
          
              var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
                subdomains: 'abcd',
                maxZoom: 19
              }).addTo(map);
          
              var geojsonLayerLME = new L.GeoJSON.AJAX("https://raw.githubusercontent.com/marinespatialviz/marinespatialviz/master/lme.geojson").addTo(map);
          
              L.control.layers({
                'Mapbox': Mapbox,
                'Carto': CartoDB_DarkMatter
              }).addTo(map);
              
          </script>

<script async src="https://jsfiddle.net/WandaBodnar/qgjwqz8y/5/embed/js,html,css,result/dark/"></script>

$~$

### JQuery

Extension used: 

* https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js


        <script>
        
        var map = L.map('map', {
        center: [55, 15],
        zoom: 3
        });

        var Mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
          attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
          maxZoom: 18,
          id: 'mapbox.streets',
          accessToken: 'pk.eyJ1Ijoid2FuZGFib2RuYXIiLCJhIjoiY2phdHM1dm0xNXF0ajJxanU3dmdmaHRqcCJ9.mFPox1jAE9LkZN6v5OZ7Lw'
        }).addTo(map);

        var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
          subdomains: 'abcd',
          maxZoom: 19
        }).addTo(map);
    
        $.getJSON("https://raw.githubusercontent.com/marinespatialviz/marinespatialviz/master/lme.geojson",function(data){
          L.geoJson(data).addTo(map);
        });

        L.control.layers({
          'Mapbox': Mapbox,
          'Carto': CartoDB_DarkMatter
        }).addTo(map);
        
        </script>


<script async src="https://jsfiddle.net/WandaBodnar/0px4aj5r/2/embed/js,html,css,result/dark/"></script>

$~$

# WMS tile

          <script>

          var map = L.map('map',{
          center: [51.5, -0.11],
          zoom: 4
          });

          L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a>contributors'
          }).addTo(map);
          
          L.tileLayer.wms("http://213.122.160.75/scripts/mapserv.exe?map=D:/Websites/MeshAtlantic/map/MESHAtlantic.map", {
    	    layers: 'EUSMMSFD',
    	    format: 'image/png',
          transparent: true,
          attribution: '&copy; <a href="http://www.emodnet.eu/">EUSeaMap2 2016 Broad-Scale Predictive Habitat Map</a>'
          }).addTo(map);

          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/zha6qqpo/embed/js,html,css,result/dark/"></script>

$~$

# Showing coordinate information

          <script>

          var map = L.map('map', {center: [20, -15],zoom: 2});

          L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
          }).addTo(map);

          var popup = L.popup();

          function onMapClick(e) {
          popup
          .setLatLng(e.latlng)
          .setContent(e.latlng.toString())
          .openOn(map);
          }

          map.on('click', onMapClick);

          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/h4hc1f95/1/embed/js,html,css,result/dark/"></script>

$~$

# Geotagged images

$~$

## Marker

          <script>

          var map = L.map('map', {
          center: [20, -15],
          zoom: 1
          });

          var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
          subdomains: 'abcd',
          maxZoom: 19
          }).addTo(map);

          var customPopup = "Oarai beach<br/><img src='https://c1.staticflickr.com/5/4435/36028473794_62c4e88482_b.jpg' width='300px'/>";
          var marker = L.marker([36.29, 140.56]).
          bindPopup(customPopup).addTo(map);

          var customPopup = "Santa Monica<br/><img src='https://c1.staticflickr.com/5/4364/36053908023_67500b4bd6_b.jpg' width='300px'/>";
          var marker = L.marker([34.00, -118.49]).
          bindPopup(customPopup).addTo(map);  

          var customPopup = "Bondi beach<br/><img src='https://c1.staticflickr.com/5/4440/36862734845_8c485429e7_b.jpg' width='300px'/>";
          var marker = L.marker([-33.89, 151.28]).
          bindPopup(customPopup).addTo(map);

          var customPopup = "West Wittering<br/><img src='https://c1.staticflickr.com/5/4391/36054414233_b3f762af22_b.jpg' width='300px'/>";
          var marker = L.marker([50.76, -0.90]).
          bindPopup(customPopup).addTo(map);

          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/6asr8o83/2/embed/js,html,css,result/dark/"></script>

$~$

## Thumbnail (cluster and popup)

Extensions used: 

* https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.css
* https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/leaflet.markercluster.js
* https://rawgit.com/turban/Leaflet.Photo/gh-pages/Leaflet.Photo.css
* https://rawgit.com/turban/Leaflet.Photo/gh-pages/Leaflet.Photo.js


          <script>

          var map = L.map('map', {
          center: [20, 0],
          zoom: 2
          });

          var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
            subdomains: 'abcd',
            maxZoom: 19
          }).addTo(map);

          var photos = [{
            "lat": 34.00,
            "lng": -118.49,
            "url": "https://c1.staticflickr.com/5/4364/36053908023_67500b4bd6_b.jpg",
            "thumbnail": "https://c1.staticflickr.com/5/4364/36053908023_67500b4bd6_m.jpg"
          },
          {
            "lat": 36.29,
            "lng": 140.56,
            "url": "https://c1.staticflickr.com/5/4435/36028473794_62c4e88482_b.jpg",
            "thumbnail": "https://c1.staticflickr.com/5/4435/36028473794_62c4e88482_m.jpg"
          },
          {
            "lat": -33.89,
            "lng": 151.28,
            "url": "https://c1.staticflickr.com/5/4440/36862734845_8c485429e7_b.jpg",
            "thumbnail": "https://c1.staticflickr.com/5/4440/36862734845_8c485429e7_m.jpg"
          },
          {
            "lat": 50.76,
            "lng": -0.90,
            "url": "https://c1.staticflickr.com/5/4391/36054414233_b3f762af22_b.jpg",
            "thumbnail": "https://c1.staticflickr.com/5/4391/36054414233_b3f762af22_m.jpg"
          }];

          var photoLayer = L.photo.cluster().on('click', function(evt) {
            var photo = evt.layer.photo;
            var template = '<img src="{thumbnail}">';
            evt.layer.bindPopup(L.Util.template(template, photo)).openPopup();
          });

          photoLayer.add(photos).addTo(map);

          </script>
          

<script async src="https://jsfiddle.net/WandaBodnar/tvuhxu4a/embed/js,html,css,result/dark/"></script>

$~$

# Adding a marker

          <script>
          
          var map = L.map('map', {center: [20, -15],zoom: 2});

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          newMarkerGroup = new L.LayerGroup();
          map.on('click', function(e){var newMarker = new L.marker(e.latlng).addTo(map);});
    
          </script>

<script async src="https://jsfiddle.net/WandaBodnar/cbu6gg0k/1/embed/js,html,css,result/dark/"></script>

$~$

# Home button

Externsions used are: 

* https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css

* https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js

* https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css


          <script>
          
          var map = L.map('map', {
            center: [10, 0],
            zoom: 1
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var home = {
            lat: 10,
            lng: 0,
            zoom: 1
          };
          L.easyButton('<i class="fa fa-home" style="font-size:15px;"></i>', function() {
            map.setView([home.lat, home.lng], home.zoom);
          }, 'Zoom To Home').addTo(map);

          L.control.locate().addTo(map);
      
          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/cbu6gg0k/9/embed/js,html,css,result/dark/"></script>

$~$

# Full screen button

Extensions used are:

* https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js

* https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css


          <script>
          
          var map = L.map('map', {
            center: [10, 0],
            zoom: 0
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);


          map.addControl(new L.Control.Fullscreen());
      
          </script>


<script async src="https://jsfiddle.net/WandaBodnar/y7swnnmk/2/embed/js,html,css,result/dark/"></script>

$~$

# Locate button

Extensions used are: 

* https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.min.js

* https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.mapbox.css


          <script>
          
          var map = L.map('map', {
            center: [20, -15],
            zoom: 2
          });
          
          var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
            subdomains: 'abcd',
            maxZoom: 19
          }).addTo(map);
          
          L.control.locate().addTo(map);
      
          </script>

<script async src="https://jsfiddle.net/WandaBodnar/m6aLp51j/1/embed/js,html,css,result/dark/"></script>

$~$

# Scale

          <script>
          
          var map = L.map('map', {
            center: [10, 0],
            zoom: 1
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          var scale = L.control.scale();
          scale.addTo(map);
      
          </script>
          
<script async src="https://jsfiddle.net/WandaBodnar/n2q0h1n3/2/embed/js,html,css,result/dark/"></script>

$~$

# Time slider

          <script>
          
          var map = L.map('map',{
          center: [18, -53],
          zoom: 3
          });
    
          var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
          subdomains: 'abcd',
          maxZoom: 19
          }).addTo(map);
    
          var irma = {"type":"FeatureCollection","features":
          [{"type":"Feature","properties":{"Day":" Day 1"},
          "geometry": { "type": "Point", "coordinates": [ -30.3, 16.4 ] } },
          {"type":"Feature","properties":{"Day":" Day 2"},
          "geometry": { "type": "Point", "coordinates": [ -31.2, 16.4 ] } },
          {"type":"Feature","properties":{"Day":" Day 3"},
          "geometry": { "type": "Point", "coordinates": [ -32.2, 16.4 ] } },
          {"type":"Feature","properties":{"Day":" Day 3"},
          "geometry": { "type": "Point", "coordinates": [ -32.9, 16.5 ] } },
          {"type":"Feature","properties":{"Day":" Day 3"},
          "geometry": { "type": "Point", "coordinates": [ -33.8, 16.9 ] } },
          {"type":"Feature","properties":{"Day":" Day 3"},
          "geometry": { "type": "Point", "coordinates": [ -34.8, 17.3 ] } },
          {"type":"Feature","properties":{"Day":" Day 4"},
          "geometry": { "type": "Point", "coordinates": [ -35.6, 17.8 ] } },
          {"type":"Feature","properties":{"Day":" Day 4"},
          "geometry": { "type": "Point", "coordinates": [ -36.5, 18.2 ] } },
          {"type":"Feature","properties":{"Day":" Day 4"},
          "geometry": { "type": "Point", "coordinates": [ -37.8, 18.5 ] } },
          {"type":"Feature","properties":{"Day":" Day 4"},
          "geometry": { "type": "Point", "coordinates": [ -39.1, 18.8 ] } },
          {"type":"Feature","properties":{"Day":" Day 5"},
          "geometry": { "type": "Point", "coordinates": [ -40.5, 19.1 ] } },
          {"type":"Feature","properties":{"Day":" Day 5"},
          "geometry": { "type": "Point", "coordinates": [ -41.8, 19.0 ] } },
          {"type":"Feature","properties":{"Day":" Day 5"},
          "geometry": { "type": "Point", "coordinates": [ -43.3, 18.8 ] } },
          {"type":"Feature","properties":{"Day":" Day 5"},
          "geometry": { "type": "Point", "coordinates": [ -44.6, 18.5 ] } },
          {"type":"Feature","properties":{"Day":" Day 6"},
          "geometry": { "type": "Point", "coordinates": [ -46.2, 18.3 ] } },
          {"type":"Feature","properties":{"Day":" Day 6"},
          "geometry": { "type": "Point", "coordinates": [ -47.5, 18.0 ] } },
          {"type":"Feature","properties":{"Day":" Day 6"},
          "geometry": { "type": "Point", "coordinates": [ -48.4, 17.7 ] } },
          {"type":"Feature","properties":{"Day":" Day 6"},
          "geometry": { "type": "Point", "coordinates": [ -49.8, 17.6 ] } },
          {"type":"Feature","properties":{"Day":" Day 7"},
          "geometry": { "type": "Point", "coordinates": [ -51.0, 17.2 ] } },
          {"type":"Feature","properties":{"Day":" Day 7"},
          "geometry": { "type": "Point", "coordinates": [ -52.3, 16.9 ] } },
          {"type":"Feature","properties":{"Day":" Day 7"},
          "geometry": { "type": "Point", "coordinates": [ -53.3, 16.8 ] } },
          {"type":"Feature","properties":{"Day":" Day 7"},
          "geometry": { "type": "Point", "coordinates": [ -54.4, 16.7 ] } },
          {"type":"Feature","properties":{"Day":" Day 8"},
          "geometry": { "type": "Point", "coordinates": [ -55.6, 16.7 ] } },
          {"type":"Feature","properties":{"Day":" Day 8"},
          "geometry": { "type": "Point", "coordinates": [ -57.0, 16.6 ] } },
          {"type":"Feature","properties":{"Day":" Day 8"},
          "geometry": { "type": "Point", "coordinates": [ -57.7, 16.7 ] } },
          {"type":"Feature","properties":{"Day":" Day 8"},
          "geometry": { "type": "Point", "coordinates": [ -58.4, 16.8 ] } },
          {"type":"Feature","properties":{"Day":" Day 9"},
          "geometry": { "type": "Point", "coordinates": [ -59.8, 17.1 ] } },
          {"type":"Feature","properties":{"Day":" Day 9"},
          "geometry": { "type": "Point", "coordinates": [ -61.1, 17.4 ] } },
          {"type":"Feature","properties":{"Day":" Day 9"},
          "geometry": { "type": "Point", "coordinates": [ -62.6, 17.9 ] } },
          {"type":"Feature","properties":{"Day":" Day 9"},
          "geometry": { "type": "Point", "coordinates": [ -64.0, 18.2 ] } },
          {"type":"Feature","properties":{"Day":" Day 10"},
          "geometry": { "type": "Point", "coordinates": [ -65.4, 18.8 ] } },
          {"type":"Feature","properties":{"Day":" Day 10"},
          "geometry": { "type": "Point", "coordinates": [ -66.8, 19.4 ] } },
          {"type":"Feature","properties":{"Day":" Day 10"},
          "geometry": { "type": "Point", "coordinates": [ -68.3, 20.0 ] } },
          {"type":"Feature","properties":{"Day":" Day 10"},
          "geometry": { "type": "Point", "coordinates": [ -69.7, 20.4 ] } },
          {"type":"Feature","properties":{"Day":" Day 11"},
          "geometry": { "type": "Point", "coordinates": [ -71.1, 20.9 ] } },
          {"type":"Feature","properties":{"Day":" Day 11"},
          "geometry": { "type": "Point", "coordinates": [ -72.4, 21.3 ] } },
          {"type":"Feature","properties":{"Day":" Day 11"},
          "geometry": { "type": "Point", "coordinates": [ -73.8, 21.7 ] } },
          {"type":"Feature","properties":{"Day":" Day 11"},
          "geometry": { "type": "Point", "coordinates": [ -75.3, 22.0 ] } },
          {"type":"Feature","properties":{"Day":" Day 12"},
          "geometry": { "type": "Point", "coordinates": [ -76.5, 22.1 ] } },
          {"type":"Feature","properties":{"Day":" Day 12"},
          "geometry": { "type": "Point", "coordinates": [ -77.7, 22.1 ] } },
          {"type":"Feature","properties":{"Day":" Day 12"},
          "geometry": { "type": "Point", "coordinates": [ -78.8, 22.5 ] } },
          {"type":"Feature","properties":{"Day":" Day 12"},
          "geometry": { "type": "Point", "coordinates": [ -79.8, 22.8 ] } },
          {"type":"Feature","properties":{"Day":" Day 13"},
          "geometry": { "type": "Point", "coordinates": [ -80.5, 23.4 ] } },
          {"type":"Feature","properties":{"Day":" Day 13"},
          "geometry": { "type": "Point", "coordinates": [ -81.0, 23.5 ] } },
          {"type":"Feature","properties":{"Day":" Day 13"},
          "geometry": { "type": "Point", "coordinates": [ -81.5, 24.1 ] } },
          {"type":"Feature","properties":{"Day":" Day 13"},
          "geometry": { "type": "Point", "coordinates": [ -81.5, 25.0 ] } },
          {"type":"Feature","properties":{"Day":" Day 1"},
          "geometry": { "type": "Point", "coordinates": [ -81.8, 26.2 ] } },
          {"type":"Feature","properties":{"Day":" Day 14"},
          "geometry": { "type": "Point", "coordinates": [ -81.9, 27.5 ] } },
          {"type":"Feature","properties":{"Day":" Day 14"},
          "geometry": { "type": "Point", "coordinates": [ -82.6, 28.9 ] } },
          {"type":"Feature","properties":{"Day":" Day 14"},
          "geometry": { "type": "Point", "coordinates": [ -83.1, 30.3 ] } },
          {"type":"Feature","properties":{"Day":" Day 15"},
          "geometry": { "type": "Point", "coordinates": [ -84.0, 31.5 ] } },
          {"type":"Feature","properties":{"Day":" Day 15"},
           "geometry": { "type": "Point", "coordinates": [ -84.9, 32.4 ] } }
          ]};
    
          var geojsonMarkerOptions = {
              radius: 8,
              color: '#a58fa4',
              fillColor: '#0d11ee',
              fillOpacity: 0.5
          };
    
          var testlayer = L.geoJson(irma, {
              pointToLayer: function (feature, latlng) {
                  return L.circleMarker(latlng, geojsonMarkerOptions);
              }
          });
    
          var sliderControl = L.control.sliderControl({
            position: "topright",
            layer: testlayer,
            timeAttribute: 'Day'});
          map.addControl(sliderControl);
          sliderControl.startSlider();
    
          map.addControl(new L.Control.Fullscreen());
    
          var scale = L.control.scale();
          scale.addTo(map);


          </script>
          

<script async src="https://jsfiddle.net/WandaBodnar/eup48mrx/1/embed/js,html,css,result/dark/"></script>

$~$

# Choropleth map

Extension used to read external geoJson file

* https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.js


          <script>
          
          var map = L.map('map',{
          center: [55, 15],
          zoom: 3
          });
          var Mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
          attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
          maxZoom: 18,
          id: 'mapbox.streets',
          accessToken: 'pk.eyJ1Ijoid2FuZGFib2RuYXIiLCJhIjoiY2phdHM1dm0xNXF0ajJxanU3dmdmaHRqcCJ9.mFPox1jAE9LkZN6v5OZ7Lw'
          }).addTo(map);
          var CartoDB_DarkMatter = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
          subdomains: 'abcd',
          maxZoom: 19
          }).addTo(map);
    
    
          function getColor(a) {
              return a > 2000000 ? '#1B4F72' :
                    a > 1000000  ? '#154360' :
                    a > 900000  ? '#1A5276' :
                    a > 800000  ? '#1F618D' :
                    a > 700000  ? '#2471A3' :
                    a > 600000   ? '#2980B9' :
                    a > 500000   ? '#5499C7' :
                    a > 400000   ? '#7FB3D5' :
                    a > 300000   ? '#A9CCE3' :
                    a > 200000  ? '#D4E6F1' :
                    a > 100000   ? '#EAF2F8' :
                    a == null   ? '#000000' :
                                '#ffffff';
          }
    
          function style(feature) {
          return {
              fillColor: getColor(feature.properties.Area),
              weight: 0.5,
              opacity: 1,
              color: 'white',
              fillOpacity: 0.7
          };
          }
    
          function highlightFeature(a) {
              var layer = a.target;
              layer.setStyle({
                          weight: 1,
                          opacity: 0.1,
                          fillOpacity: 0.1
                });
              info.update(layer.feature.properties);
          }
          function resetHighlight(a) {         /// layer 2
              geojsonLayerLME.setStyle(style);
              info.update(layer.feature.properties);
          }
          function onEachFeature(feature, layer) {
              layer.bindPopup('</h1><p>Name: '+feature.properties.Name+'</h1><p>Area: '+feature.properties.Area+'</p>');
              layer.on('mouseover', function() { layer.openPopup(); });
              layer.on('mouseout', function() { layer.closePopup(); });
              layer.on({
                  mouseover: highlightFeature,
                  mouseout: resetHighlight,
              });
          }
          
          var geojsonLayerLME = new L.GeoJSON.AJAX("https://raw.githubusercontent.com/marinespatialviz/marinespatialviz/master/lme.geojson", {
          style:style,
          onEachFeature:onEachFeature}).addTo(map);
          
          var legend = L.control({position: 'bottomright'});

          legend.onAdd = function(map) {

            var div = L.DomUtil.create('div', 'info legend'),
              grades = [100000, 200000, 300000, 400000, 500000, 600000, 700000, 800000, 900000, 1000000, 2000000];
            labels = [];
          
            for (var i = 0; i < grades.length; i++) {
              div.innerHTML +=
                '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
                grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
            }
          
            return div;
          };
          
          legend.addTo(map);
    
    
          var baseMaps = {
                      'Mapbox': Mapbox,
                      'CartoDB': CartoDB_DarkMatter
                    };
    
                    var overlayMaps = {
                      'LME': geojsonLayerLME
                    };
    
                    L.control.layers(baseMaps, overlayMaps, {collapsed: false}).addTo(map);
    
                    map.addControl(new L.Control.Fullscreen());
    

                    var home = {
                      lat: 51.5,
                      lng: -0.1,
                      zoom: 10
                    };
                    L.easyButton('<i class="fa fa-home" style="font-size:15px;"></i>', function(){
                      map.setView([home.lat, home.lng], home.zoom);
                    },'Zoom To Home').addTo(map);
    
                    L.control.locate().addTo(map);
    
    
                    var scale = L.control.scale();
                    scale.addTo(map);
    
          </script>


<script async src="https://jsfiddle.net/WandaBodnar/w205ygor/18/embed/js,html,css,result/dark/"></script>

$~$

<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>