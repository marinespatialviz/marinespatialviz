---
title: "Leaflet.js"
output: 
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    theme: flatly
---


# Basics of Leaflet.js


[Leaflet.js](http://leafletjs.com/) is an open-source JavaScript library used for the creation of interactive, simple and lightweight web maps. Leaflet forms the basis of [Mapbox.js](https://marinespatialviz.github.io/marinespatialviz/mapboxjs.html). 


The first step of creating a web map starts with the **HTML page**.


    <html>

      <head>

        <style>
        
        </style>

      </head>

      <body>

        <script>

        </script>

      </body>

    </html>


This is the basic set up of a HTML page.

The next step is integrating the **Leaflet CSS** and **Leaflet.js** scripts. You can access the hosted version [here](http://leafletjs.com/download.html).

Both files will sit in the head section of the HTML code. Make sure to keep the order.


    <html>

      <head>

        <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />

        <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

        <style>

        </style>

      </head>

        <body>

          <script>

          </script>

        </body>

      </html>
    

Then, create a container for the map defining the dimensions. This will sit in the body section:


    <html>

      <head>

        <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />

        <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

        <style>

        </style>

      </head>

        <body>

          <div id = "map" style = "width: 1350px; height: 600px"></div>

          <script>

          </script>

        </body>

    </html>

$~$

# View and basemap

Now, let's construct the body adding the map object. Just like in in R Studio, different [basemaps](https://leaflet-extras.github.io/leaflet-providers/preview/) can be used in Leaflet.js as well. 


    <html>

      <head>

        <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />

        <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

        <style>

        </style>

      </head>

        <body>

          <div id = "map" style = "width: 1350px; height: 600px"></div>

          <script>

          var map = L.map('map',{
          center: [20, -15],
          zoom: 3
          });

          L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(map);

          </script>

        </body>

    </html>


Here is the result of the above code (if the map does not show, click [here](https://marinespatialviz.github.io/marinespatialviz/external/leaflet/map.html).


```{r, echo = FALSE}
htmltools::includeHTML("https://marinespatialviz.github.io/marinespatialviz/external/leaflet/map.html")
```

$~$

# Marker

With the marker variable `var marker = L.marker ([x, y])` the coordinates will be given and it will be added to the map `marker.addTo()`.


    <html>

      <head>

        <title>Marker</title>

        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />

        <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

        <style>

        </style>

      </head>

        <body>

        <div id = "map" style = "width: 1350px; height: 600px"></div>

        <script>

        var map = L.map('map',{
        center: [11, 142],
        zoom: 3
        });

        L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        var marker = L.marker([11.3499986, 142.1999992])
        marker.addTo(map);

        </script>

      </body>

    </html>


Here is the result of the above code (if the map does not show, click [here](https://marinespatialviz.github.io/marinespatialviz/external/leaflet/marker.html).


```{r, echo = FALSE}
htmltools::includeHTML("https://marinespatialviz.github.io/marinespatialviz/external/leaflet/marker.html")
```
